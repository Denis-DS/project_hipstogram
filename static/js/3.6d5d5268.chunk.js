(this.webpackJsonphipstagram=this.webpackJsonphipstagram||[]).push([[3,12],{109:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),c=a(93),l=a.n(c),o=a(27),i=a.n(o),m=a(24),u=a(21),d=a(13),p=a(84),f=a(72),_=a(22),v=a(94),E=a.n(v),b=a(82),g=Object(u.c)((function(e){return{success:e.message.success,failure:e.message.failure}}),(function(e){return Object(s.bindActionCreators)({setMessage:_.c.request,deleteToastMessage:_.a},e)}))(r.a.memo((function(e){Object(n.useEffect)((function(){e.success&&M.toast({html:e.success,classes:"green"}),e.failure&&M.toast({html:e.failure,classes:"red"}),e.deleteToastMessage()}),[e.success,e.failure]);var t=Object(n.useState)(""),a=Object(f.a)(t,2),s=a[0],c=a[1],l=Object(n.useRef)(null);return r.a.createElement("div",{id:"modal1",className:"modal modal-fixed-footer"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h4",{className:E.a.header},"Write message",e.nick),r.a.createElement("div",{className:E.a.photoWrapper},r.a.createElement(b.a,{id:"photo1",refPhoto:l,src:"https://brilliant24.ru/files/cat/bg_template_01.png"})),r.a.createElement("textarea",{className:E.a.messageInput,value:s,onChange:function(e){c(e.currentTarget.value)}})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"modal-close waves-green btn-flat"},"Cancel"),r.a.createElement("button",{disabled:!s.trim(),className:"modal-close waves-effect waves-green btn",onClick:function(t){e.setMessage({userId:e.userId,text:s,refPhoto:l}),c("")}},"Direct")))}))),h=a(95),y=a.n(h),N=a(25),C=a(96),j=a.n(C),w=a(97),k=a.n(w),O=Object(u.c)(null,(function(e){return Object(s.bindActionCreators)({setComment:N.b.request},e)}))(r.a.memo((function(e){var t=Object(n.useState)(e.answerClosed),a=Object(f.a)(t,2),s=a[0],c=a[1],l=Object(n.useState)(""),o=Object(f.a)(l,2),i=o[0],m=o[1],u=function(e){c(!s)};return r.a.createElement("div",null,s?r.a.createElement("button",{onClick:u,className:k.a.answerButton},"Answer"):r.a.createElement("div",{className:k.a.answerWrapper},r.a.createElement("textarea",{value:i,onChange:function(e){m(e.currentTarget.value)}}),r.a.createElement("div",{className:k.a.buttons},r.a.createElement("button",{disabled:!i.trim(),onClick:function(){e.setComment({answerTo:e.commentID,text:i}),c(!s),m("")},className:k.a.sendButton},"Send"),e.answerClosed&&r.a.createElement("button",{onClick:u,className:k.a.cancelButton},"Cancel"))))}))),x=r.a.memo((function(e){return r.a.createElement("div",{className:j.a.comment},r.a.createElement("div",{className:j.a.header},null!==e.avatar?r.a.createElement("img",{src:"/".concat(e.avatar),alt:e.nick}):r.a.createElement("span",{className:"large material-icons black-text"},"face"),r.a.createElement("span",{className:j.a.author},e.nick)),r.a.createElement("p",null,e.text),r.a.createElement("span",{className:j.a.date},e.createdAt),e.answerExist&&r.a.createElement(O,{commentID:e._id,answerClosed:!0}))})),W=Object(u.c)((function(e){return{commentsData:e.comments.commentsData}}),(function(e){return Object(s.bindActionCreators)({getComments:N.a.request},e)}))(r.a.memo((function(e){Object(n.useEffect)((function(){e.getComments({idPost:e.idPost})}),[]);return r.a.createElement("div",{className:y.a.commentsWrapper},r.a.createElement("h2",null,"Comments"),r.a.createElement("div",{className:y.a.comments},!e.commentsData.length&&r.a.createElement("p",null,"No one has written yet"),r.a.createElement("ul",null,e.commentsData.map((function(e){return r.a.createElement("li",{key:e._id},r.a.createElement(x,{avatar:e.avatar,createdAt:e.createdAt,nick:e.nick,text:e.text,_id:e._id,answerExist:!0}),r.a.createElement("ul",null,e.answers&&e.answers.map((function(e){return r.a.createElement("li",{key:e._id},r.a.createElement(x,{avatar:e.avatar,createdAt:e.createdAt,nick:e.nick,text:e.text,_id:e._id,answerExist:!1}))}))))})))),r.a.createElement("div",{className:y.a.answer},r.a.createElement("h2",null,"Write commet"),r.a.createElement(O,{commentID:null,answerClosed:!1})))}))),A=a(26),P=Object(u.c)(null,(function(e){return Object(s.bindActionCreators)({setLike:A.b.request},e)}))(r.a.memo((function(e){var t=Object(n.useState)(!0),a=Object(f.a)(t,2),s=a[0],c=a[1];return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){console.log("send"),c(!s),e.setLike({answerTo:e.postID,text:""})}},s?r.a.createElement("span",{className:"large material-icons black-text"},"favorite_border"):r.a.createElement("span",{className:"large material-icons black-text"},"favorite")))})));t.default=Object(u.c)((function(e){return{postCard:e.postCard.postCardData,isPost:e.postCard.isPost}}),(function(e){return Object(s.bindActionCreators)({getPostCard:m.b.request,deletePostCard:m.a},e)}))(r.a.memo((function(e){var t;Object(n.useEffect)((function(){return e.getPostCard(e.match.params.id),function(){e.deletePostCard()}}),[]),Object(n.useEffect)((function(){var e=document.querySelectorAll(".materialboxed");M.Materialbox.init(e,{inDuration:0,outDuration:0})}),[e.postCard]);var a=document.querySelectorAll(".modal");M.Modal.init(a,{});var s=(null===(t=e.postCard.images[0])||void 0===t?void 0:t.url)||"https://boatparts.com.ua/design/boatparts/images/no_image.png";return e.isPost?r.a.createElement("div",{className:i()("row",l.a.rowcorrect)},r.a.createElement("div",{className:"col m3 s12"},r.a.createElement("div",{className:l.a.sidebarWrapper},r.a.createElement("div",{className:l.a.userWrapper},r.a.createElement(d.a,{to:"/user/".concat(e.postCard.userId)},r.a.createElement("div",{className:l.a.userAtr},r.a.createElement("div",null,r.a.createElement("img",{alt:e.postCard.nick,src:e.postCard.avatar})),r.a.createElement("div",{className:l.a.nick},r.a.createElement("span",null,e.postCard.nick))))))),r.a.createElement(g,{nick:e.postCard.nick,userId:e.postCard.userId}),r.a.createElement("div",{className:""},r.a.createElement("div",{className:l.a.contentWrapper},r.a.createElement("div",{className:l.a.topPhoto},r.a.createElement("img",{alt:e.postCard.title,className:"materialboxed",src:s})),r.a.createElement("div",{className:l.a.content},r.a.createElement("div",{className:l.a.userActions},r.a.createElement("div",{className:l.a.userTriger},r.a.createElement(P,{postID:e.match.params.id}),r.a.createElement("a",{className:i()("modal-trigger",l.a.messageBtn),href:"#modal1"},r.a.createElement("i",{className:"material-icons right"},"send"))),r.a.createElement("div",null,r.a.createElement(d.a,{to:"/postlike/".concat(e.postCard._id),className:"black-text accent-4"},r.a.createElement("p",null,e.postCard.likesCount," :like")))),r.a.createElement("p",null,e.postCard.title),r.a.createElement("span",{className:l.a.data},e.postCard.postDate)),r.a.createElement(W,{idPost:e.match.params.id})))):r.a.createElement(p.default,null)})))},72:function(e,t,a){"use strict";var n=a(32);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,s=void 0;try{for(var c,l=e[Symbol.iterator]();!(n=(c=l.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(o){r=!0,s=o}finally{try{n||null==l.return||l.return()}finally{if(r)throw s}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a.d(t,"a",(function(){return r}))},73:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return c}));var n=function(e,t){var a=document.querySelector("#".concat(e));return t?(null===a||void 0===a||a.classList.remove("invalid"),null===a||void 0===a||a.classList.add("valid"),!0):(null===a||void 0===a||a.classList.add("invalid"),null===a||void 0===a||a.classList.remove("valid"),!1)},r=function(e,t,a,r,s){r?e.length<r&&s(e):s(e);var c=!(a&&e.length<a);return n(t,c)},s=function(e,t){var a=!!t.match(/^[0-9a-z-&#92;]/i);return n(e,a)},c=function(e){for(var t=[/jpg/,/jpeg/,/png/,/gif/],a=0;a<t.length;a++)if(t[a].test(e))return!0;return!1}},81:function(e,t,a){e.exports={notFoundWrapper:"style_notFoundWrapper__1eWTd"}},82:function(e,t,a){"use strict";var n=a(72),r=a(0),s=a.n(r),c=a(83),l=a.n(c),o=a(73);t.a=s.a.memo((function(e){var t=Object(r.useState)("https://brilliant24.ru/files/cat/bg_template_01.png"),a=Object(n.a)(t,2),c=a[0],i=a[1];Object(r.useEffect)((function(){e.src&&i(e.src)}),[e.src]),Object(r.useEffect)((function(){var e=document.querySelectorAll(".modal");M.Modal.init(e,{})}),[]);return s.a.createElement("div",{className:l.a.logoWrapper},s.a.createElement("img",{className:l.a.avatar,src:c,alt:"addphoto"}),s.a.createElement("div",{className:l.a.inputFileWrapper},s.a.createElement("form",{action:"/upload",encType:"multipart/form-data",method:"post",ref:e.refPhoto},s.a.createElement("input",{accept:"image/jpg,image/jpeg,image/png,image/gif",onChange:function(t){if(t.preventDefault(),t.currentTarget.files){var a=t.currentTarget.files[0],n=new FileReader;n.readAsDataURL(a),n.onloadend=function(){if(n.result&&"string"===typeof n.result&&Object(o.c)(n.result))i(n.result);else{var t,a;null===(t=e.refPhoto)||void 0===t||null===(a=t.current)||void 0===a||a.reset();var r=document.getElementById("modal1");M.Modal.getInstance(r).open()}}}},type:"file",name:"photo",id:e.id,className:l.a.inputFile}),s.a.createElement("label",{htmlFor:e.id},s.a.createElement("i",{className:"material-icons"},"add")))),s.a.createElement("div",{id:"modal1",className:"modal"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("p",null,"Photo format is invalid. You can use: jpeg, jpg, png, gif")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn-flat"},"Ok"))))}))},83:function(e,t,a){e.exports={logoWrapper:"style_logoWrapper__1BlIw",avatar:"style_avatar__22sB2",inputFileWrapper:"style_inputFileWrapper__7kKzs",inputFile:"style_inputFile__33tiI"}},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(81),c=a.n(s),l=a(13);t.default=r.a.memo((function(){return r.a.createElement("div",{className:c.a.notFoundWrapper},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m6 offset-m3"},r.a.createElement("div",{className:"card blue-grey darken-1"},r.a.createElement("div",{className:"card-content white-text"},r.a.createElement("span",{className:"center-align card-title"},"404")),r.a.createElement("div",{className:"card-action center-align"},r.a.createElement(l.a,{to:"/"},"Go to start"))))))}))},93:function(e,t,a){e.exports={rowcorrect:"style_rowcorrect__2HuWZ",contentWrapper:"style_contentWrapper__3v6Up",topPhoto:"style_topPhoto__2YFQb",content:"style_content__32AvO",data:"style_data__1Ksmm",description:"style_description__3xefx",sidebarWrapper:"style_sidebarWrapper__188WZ",price:"style_price__1oXYJ",userWrapper:"style_userWrapper__3JH0E",nick:"style_nick__1CHPG",userData:"style_userData__1XUcP",userAtr:"style_userAtr__1GX3t",userActions:"style_userActions__14i78",userTriger:"style_userTriger__1G7yj",messageBtn:"style_messageBtn__2Eqjz"}},94:function(e,t,a){e.exports={photoWrapper:"style_photoWrapper__1AzEz",header:"style_header__3lOQL",messageInput:"style_messageInput__1GRma"}},95:function(e,t,a){e.exports={commentsWrapper:"style_commentsWrapper__1Iize",comments:"style_comments__3UE6f",answer:"style_answer__kjuol"}},96:function(e,t,a){e.exports={comment:"style_comment__mehY3",header:"style_header__19Som",author:"style_author__3ANhu",date:"style_date__2Zm_X"}},97:function(e,t,a){e.exports={answerButton:"style_answerButton__-kVHf",answerWrapper:"style_answerWrapper__2Qd7G",buttons:"style_buttons__3WtaO",sendButton:"style_sendButton__3xP9A",cancelButton:"style_cancelButton__2RBuo"}}}]);
//# sourceMappingURL=3.6d5d5268.chunk.js.map