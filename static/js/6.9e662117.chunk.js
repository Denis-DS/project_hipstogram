(this.webpackJsonphipstagram=this.webpackJsonphipstagram||[]).push([[6],{107:function(e,t,a){"use strict";a.r(t);var r=a(72),n=a(0),l=a.n(n),o=a(74),i=a(48),c=a(24),s=a(17),u=a(21),d=a(82),m=a(98),p=a.n(m),f=a(73);t.default=Object(u.c)((function(e){return{advData:e.postCard.postCardData}}),(function(e){return Object(s.bindActionCreators)({addPost:i.a.request,getPostCard:c.b.request,deletePostCard:c.a},e)}))(l.a.memo((function(e){var t,a=Object(n.useState)(""),i=Object(r.a)(a,2),c=i[0],s=i[1],u=Object(n.useRef)(null);Object(n.useEffect)((function(){var t=document.querySelectorAll("#title");return M.CharacterCounter.init(t),e.match.params.id&&e.getPostCard(e.match.params.id),function(){e.deletePostCard()}}),[]),Object(n.useEffect)((function(){s(e.advData.title)}),[e.advData]),Object(n.useEffect)((function(){!e.match.params.id&&e.deletePostCard()}),[e.match.params.id]);return l.a.createElement("div",{className:"row"},l.a.createElement("h1",{className:"center-align"},"Post advert"),l.a.createElement("div",{className:p.a.photoWrapper},l.a.createElement(d.a,{id:"photo1",refPhoto:u,src:(null===(t=e.advData.images[0])||void 0===t?void 0:t.url)||""})),l.a.createElement("form",{className:"col s12 m6 offset-m3",onSubmit:function(t){console.log("push");var a=[u],r=[];if(r.push(Object(f.a)(c,"title",0,70,s)),-1===r.indexOf(!1)){var n=e.advData.images?e.advData.images:null,l=e.advData._id?e.advData._id:null;e.addPost({title:c,refPhotos:a,oldImages:n,_id:l})}t.preventDefault()}},l.a.createElement(o.a,{id:"title",type:"text",labelText:"Title",value:c,onChangeHandler:function(e){Object(f.a)(e.currentTarget.value,"title",0,70,s)},maxLength:70,dataError:"Must be at last 0 characters"}),l.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"action"},"Add",l.a.createElement("i",{className:"material-icons right"},"send"))))})))},72:function(e,t,a){"use strict";var r=a(32);function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(c){n=!0,l=c}finally{try{r||null==i.return||i.return()}finally{if(n)throw l}}return a}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a.d(t,"a",(function(){return n}))},73:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return o}));var r=function(e,t){var a=document.querySelector("#".concat(e));return t?(null===a||void 0===a||a.classList.remove("invalid"),null===a||void 0===a||a.classList.add("valid"),!0):(null===a||void 0===a||a.classList.add("invalid"),null===a||void 0===a||a.classList.remove("valid"),!1)},n=function(e,t,a,n,l){n?e.length<n&&l(e):l(e);var o=!(a&&e.length<a);return r(t,o)},l=function(e,t){var a=!!t.match(/^[0-9a-z-&#92;]/i);return r(e,a)},o=function(e){for(var t=[/jpg/,/jpeg/,/png/,/gif/],a=0;a<t.length;a++)if(t[a].test(e))return!0;return!1}},74:function(e,t,a){"use strict";var r=a(0),n=a.n(r),l=a(27),o=a.n(l);t.a=n.a.memo((function(e){return document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".tooltipped");M.Tooltip.init(e,{})})),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{value:e.value,onChange:e.onChangeHandler,onBlur:function(t){return e.onBlurHandler&&e.onBlurHandler(e.id,t.currentTarget.value)},id:e.id,type:e.type,className:o()(e.dataTooltip?"tooltipped":""),"data-position":"right","data-tooltip":e.dataTooltip,placeholder:"","data-length":e.maxLength}),n.a.createElement("label",{htmlFor:e.id,className:"active"},e.labelText),n.a.createElement("span",{className:"helper-text","data-error":e.dataError,"data-success":"Good"})))}))},82:function(e,t,a){"use strict";var r=a(72),n=a(0),l=a.n(n),o=a(83),i=a.n(o),c=a(73);t.a=l.a.memo((function(e){var t=Object(n.useState)("https://brilliant24.ru/files/cat/bg_template_01.png"),a=Object(r.a)(t,2),o=a[0],s=a[1];Object(n.useEffect)((function(){e.src&&s(e.src)}),[e.src]),Object(n.useEffect)((function(){var e=document.querySelectorAll(".modal");M.Modal.init(e,{})}),[]);return l.a.createElement("div",{className:i.a.logoWrapper},l.a.createElement("img",{className:i.a.avatar,src:o,alt:"addphoto"}),l.a.createElement("div",{className:i.a.inputFileWrapper},l.a.createElement("form",{action:"/upload",encType:"multipart/form-data",method:"post",ref:e.refPhoto},l.a.createElement("input",{accept:"image/jpg,image/jpeg,image/png,image/gif",onChange:function(t){if(t.preventDefault(),t.currentTarget.files){var a=t.currentTarget.files[0],r=new FileReader;r.readAsDataURL(a),r.onloadend=function(){if(r.result&&"string"===typeof r.result&&Object(c.c)(r.result))s(r.result);else{var t,a;null===(t=e.refPhoto)||void 0===t||null===(a=t.current)||void 0===a||a.reset();var n=document.getElementById("modal1");M.Modal.getInstance(n).open()}}}},type:"file",name:"photo",id:e.id,className:i.a.inputFile}),l.a.createElement("label",{htmlFor:e.id},l.a.createElement("i",{className:"material-icons"},"add")))),l.a.createElement("div",{id:"modal1",className:"modal"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("p",null,"Photo format is invalid. You can use: jpeg, jpg, png, gif")),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn-flat"},"Ok"))))}))},83:function(e,t,a){e.exports={logoWrapper:"style_logoWrapper__1BlIw",avatar:"style_avatar__22sB2",inputFileWrapper:"style_inputFileWrapper__7kKzs",inputFile:"style_inputFile__33tiI"}},98:function(e,t,a){e.exports={photoWrapper:"style_photoWrapper__2Xm8x"}}}]);
//# sourceMappingURL=6.9e662117.chunk.js.map